/*
 * Basic jQuery Slider plug-in v.1.3
 *
 * http://www.basic-slider.com
 *
 * Authored by John Cobb
 * http://www.johncobb.name
 * @john0514
 *
 * Copyright 2011, John Cobb
 * License: GNU General Public License, version 3 (GPL-3.0)
 * http://www.opensource.org/licenses/gpl-3.0.html
 *
 */!function(e){"use strict";e.fn.bjqs=function(t){var i={width:700,height:300,animtype:"fade",animduration:450,animspeed:4e3,automatic:!0,showcontrols:!0,centercontrols:!0,nexttext:"Next",prevtext:"Prev",showmarkers:!0,centermarkers:!0,keyboardnav:!0,hoverpause:!0,usecaptions:!0,randomstart:!1,responsive:!1},n=e.extend({},i,t),h=this,d=h.find("ul.bjqs"),s=d.children("li"),r=null,a=null,c=null,l=null,o=null,u=null,g=null,w=null,p={slidecount:s.length,animating:!1,paused:!1,currentslide:1,nextslide:0,currentindex:0,nextindex:0,interval:null},f={width:null,height:null,ratio:null},m={fwd:"forward",prev:"previous"},v=function(){s.addClass("bjqs-slide"),n.responsive?x():k(),p.slidecount>1?(n.randomstart&&D(),n.showcontrols&&b(),n.showmarkers&&T(),n.keyboardnav&&j(),n.hoverpause&&n.automatic&&C(),"slide"===n.animtype&&y()):n.automatic=!1,n.usecaptions&&I(),"slide"!==n.animtype||n.randomstart||(p.currentindex=1,p.currentslide=2),d.show(),s.eq(p.currentindex).show(),n.automatic&&(p.interval=setInterval(function(){z(m.fwd,!1)},n.animspeed))},x=function(){f.width=h.outerWidth(),f.ratio=f.width/n.width,f.height=n.height*f.ratio,"fade"===n.animtype&&(s.css({height:n.height,width:"100%"}),s.children("img").css({height:n.height,width:"100%"}),d.css({height:n.height,width:"100%"}),h.css({height:n.height,"max-width":n.width,position:"relative"}),f.width<n.width&&(s.css({height:f.height}),s.children("img").css({height:f.height}),d.css({height:f.height}),h.css({height:f.height})),e(document).ready(function(){f.width=h.outerWidth(),f.ratio=f.width/n.width,f.height=n.height*f.ratio,s.css({height:f.height}),s.children("img").css({height:f.height}),d.css({height:f.height}),h.css({height:f.height})}),e(window).resize(function(){f.width=h.outerWidth(),f.ratio=f.width/n.width,f.height=n.height*f.ratio,s.css({height:f.height}),s.children("img").css({height:f.height}),d.css({height:f.height}),h.css({height:f.height})})),"slide"===n.animtype&&(s.css({height:n.height,width:n.width}),s.children("img").css({height:n.height,width:n.width}),d.css({height:n.height,width:n.width*n.slidecount}),h.css({height:n.height,"max-width":n.width,position:"relative"}),f.width<n.width&&(s.css({height:f.height}),s.children("img").css({height:f.height}),d.css({height:f.height}),h.css({height:f.height})),e(document).ready(function(){f.width=h.outerWidth(),f.ratio=f.width/n.width,f.height=n.height*f.ratio,s.css({height:f.height,width:f.width}),s.children("img").css({height:f.height,width:f.width}),d.css({height:f.height,width:f.width*n.slidecount}),h.css({height:f.height}),u.css({height:f.height,width:f.width}),q(function(){z(!1,p.currentslide)},200,"some unique string")}),e(window).resize(function(){f.width=h.outerWidth(),f.ratio=f.width/n.width,f.height=n.height*f.ratio,s.css({height:f.height,width:f.width}),s.children("img").css({height:f.height,width:f.width}),d.css({height:f.height,width:f.width*n.slidecount}),h.css({height:f.height}),u.css({height:f.height,width:f.width}),q(function(){z(!1,p.currentslide)},200,"some unique string")}))},q=function(){var e={};return function(t,i,n){n||(n="Don't call this twice without a uniqueId"),e[n]&&clearTimeout(e[n]),e[n]=setTimeout(t,i)}}(),k=function(){s.css({height:n.height,width:n.width}),d.css({height:n.height,width:n.width}),h.css({height:n.height,width:n.width,position:"relative"})},y=function(){g=s.eq(0).clone(),w=s.eq(p.slidecount-1).clone(),g.attr({"data-clone":"last","data-slide":0}).appendTo(d).show(),w.attr({"data-clone":"first","data-slide":0}).prependTo(d).show(),s=d.children("li"),p.slidecount=s.length,u=e('<div class="bjqs-wrapper"></div>'),n.responsive&&f.width<n.width?(u.css({width:f.width,height:f.height,overflow:"hidden",position:"relative"}),d.css({width:f.width*(p.slidecount+2),left:-f.width*p.currentslide})):(u.css({width:n.width,height:n.height,overflow:"hidden",position:"relative"}),d.css({width:n.width*(p.slidecount+2),left:-n.width*p.currentslide})),s.css({"float":"left",position:"relative",display:"list-item"}),u.prependTo(h),d.appendTo(u)},b=function(){if(r=e('<ul class="bjqs-controls"></ul>'),a=e('<li class="bjqs-next"><a href="#" data-direction="'+m.fwd+'">'+n.nexttext+"</a></li>"),c=e('<li class="bjqs-prev"><a href="#" data-direction="'+m.prev+'">'+n.prevtext+"</a></li>"),r.on("click","a",function(t){t.preventDefault();var i=e(this).attr("data-direction");p.animating||(i===m.fwd&&z(m.fwd,!1),i===m.prev&&z(m.prev,!1))}),c.appendTo(r),a.appendTo(r),r.appendTo(h),n.centercontrols){r.addClass("v-centered");var t=(h.height()-a.children("a").outerHeight())/2,i=100*(t/n.height),d=i+"%";a.find("a").css("top",d),c.find("a").css("top",d)}},T=function(){l=e('<ol class="bjqs-markers"></ol>'),e.each(s,function(t){var i=t+1,h=t+1;"slide"===n.animtype&&(h=t+2);var d=e('<li><a href="#">'+i+"</a></li>");i===p.currentslide&&d.addClass("active-marker"),d.on("click","a",function(e){e.preventDefault(),p.animating||p.currentslide===h||z(!1,h)}),d.appendTo(l)}),l.appendTo(h),o=l.find("li"),n.centermarkers&&(l.addClass("h-centered"),l.css("display","inline-block"),l.css("margin","0 auto"))},j=function(){e(document).keyup(function(e){p.paused||(clearInterval(p.interval),p.paused=!0),p.animating||(39===e.keyCode?(e.preventDefault(),z(m.fwd,!1)):37===e.keyCode&&(e.preventDefault(),z(m.prev,!1))),p.paused&&n.automatic&&(p.interval=setInterval(function(){z(m.fwd)},n.animspeed),p.paused=!1)})},C=function(){h.hover(function(){p.paused||(clearInterval(p.interval),p.paused=!0)},function(){p.paused&&(p.interval=setInterval(function(){z(m.fwd,!1)},n.animspeed),p.paused=!1)})},I=function(){e.each(s,function(t,i){var n=e(i).children("img:first-child").attr("title");n||(n=e(i).children("a").find("img:first-child").attr("title")),n&&(n=e('<p class="bjqs-caption">'+n+"</p>"),n.appendTo(e(i)))})},D=function(){var e=Math.floor(Math.random()*p.slidecount)+1;p.currentslide=e,p.currentindex=e-1},W=function(e){e===m.fwd?s.eq(p.currentindex).next().length?(p.nextindex=p.currentindex+1,p.nextslide=p.currentslide+1):(p.nextindex=0,p.nextslide=1):s.eq(p.currentindex).prev().length?(p.nextindex=p.currentindex-1,p.nextslide=p.currentslide-1):(p.nextindex=p.slidecount-1,p.nextslide=p.slidecount)},z=function(e,t){if(!p.animating&&(p.animating=!0,t?(p.nextslide=t,p.nextindex=t-1):W(e),"fade"===n.animtype&&(n.showmarkers&&(o.removeClass("active-marker"),o.eq(p.nextindex).addClass("active-marker")),s.eq(p.currentindex).fadeOut(n.animduration),s.eq(p.nextindex).fadeIn(n.animduration,function(){p.animating=!1,p.currentslide=p.nextslide,p.currentindex=p.nextindex})),"slide"===n.animtype)){if(n.showmarkers){var i=p.nextindex-1;i===p.slidecount-2?i=0:-1===i&&(i=p.slidecount-3),o.removeClass("active-marker"),o.eq(i).addClass("active-marker")}p.slidewidth=n.responsive&&f.width<n.width?f.width:n.width,d.animate({left:-p.nextindex*p.slidewidth},n.animduration,function(){p.currentslide=p.nextslide,p.currentindex=p.nextindex,"last"===s.eq(p.currentindex).attr("data-clone")?(d.css({left:-p.slidewidth}),p.currentslide=2,p.currentindex=1):"first"===s.eq(p.currentindex).attr("data-clone")&&(d.css({left:-p.slidewidth*(p.slidecount-2)}),p.currentslide=p.slidecount-1,p.currentindex=p.slidecount-2),p.animating=!1})}};v()}}(jQuery);
